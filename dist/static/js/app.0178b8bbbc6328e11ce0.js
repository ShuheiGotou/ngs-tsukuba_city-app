webpackJsonp([1],[,,,,,,function(e,t,n){"use strict";t.b="http://bigclout-api.kde.cs.tsukuba.ac.jp";t.a="9:rizfwXwb5TcgNy56Ak6u"},,,,,,,,,,,,,function(e,t,n){"use strict";var s=n(3),o=n(129),r=n(115),a=n.n(r),i=n(114),l=n.n(i),c=n(117),u=n.n(c);s.default.use(o.a),t.a=new o.a({base:"/vue-test/",routes:[{path:"/",name:"Home",component:a.a},{path:"/problems",name:"AllProblems",component:l.a},{path:"/problems/:id",name:"problem-detail",component:u.a}]})},,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/img/noimage.655b61f.jpg"},,,function(e,t){},function(e,t,n){function s(e){n(109)}var o=n(4)(n(78),n(126),s,null,null);e.exports=o.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),o=n(34),r=n.n(o),a=n(35),i=n.n(a),l=n(36),c=(n.n(l),n(37)),u=n.n(c),p=n(19);s.default.use(r.a,{locale:i.a}),s.default.config.productionTip=!1,new s.default({el:"#app",router:p.a,template:"<App/>",components:{App:u.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),o=n.n(s),r=n(19),a=n(6),i=n(116),l=n.n(i);t.default={name:"all-problems",components:{ProblemCard:l.a},data:function(){return{problems:""}},created:function(){this.getResponses()},methods:{toProblemDetail:function(e){r.a.push({name:"problem-detail",params:{id:e.id}})},getResponses:function(){var e=this,t={headers:{Authorization:a.a}};o.a.get(a.b+"/v1/problems",t).then(function(t){e.problems=t.data}).catch(function(){e.$confirm("データの取得に失敗しました．再接続しますか？","ネットワークエラー",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){e.getResponses()}).catch(function(){e.$message({type:"info",message:"Retrying canceled"})})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"home",data:function(){return{title:"Welcome to App"}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(6);t.default={name:"problem-card",props:["problem"],computed:{thumbnailUrl:function(){return this.problem.image_url?s.b+this.problem.image_url:null},problemComment:function(){if(0===this.problem.comment.length)return"No comment";var e=this.problem.comment.substr(0,256)+"...";return this.problem.comment.length>256?e:this.problem.comment},problemDate:function(){var e=new RegExp("T","g");return this.problem.created_at.replace(e," ").split(".")[0]},problemLatLon:function(){var e="no data",t="no data";return null!==this.problem.latitude&&null!==this.problem.longitude&&(e=this.problem.latitude.toFixed(3),t=this.problem.longitude.toFixed(3)),"lat: "+e+",  lon: "+t+" "},googleMapLink:function(){return null!==this.problem.latitude&&null!==this.problem.longitude?"https://google.co.jp/maps/search/"+this.problem.latitude+"+"+this.problem.longitude:null}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),o=n.n(s),r=n(6),a=n(118),i=n.n(a),l=n(119),c=n.n(l),u=n(120),p=n.n(u);t.default={name:"problem-detail",data:function(){return{problem:""}},components:{ProblemDetailCard:i.a,ResponseInput:c.a,ResponseList:p.a},created:function(){this.getResponses()},methods:{getResponses:function(){var e=this,t={headers:{Authorization:r.a}},n=this.$route.params.id;o.a.get(r.b+"/v1/problems/"+n,t).then(function(t){e.problem=t.data}).catch(function(){e.$confirm("データの取得に失敗しました．再接続しますか？","ネットワークエラー",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){e.getResponses()}).catch(function(){e.$message({type:"info",message:"Retrying canceled"})})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(6);t.default={name:"problem-detail-card",props:["problem"],computed:{imageUrl:function(){return this.problem.image_url?s.b+this.problem.image_url:null},problemDate:function(){var e=new RegExp("T","g");return this.problem.created_at.replace(e," ").split(".")[0]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),o=n.n(s),r=n(6);t.default={name:"response-input",props:["problem"],data:function(){return{replyComment:""}},methods:{postResponse:function(){var e=this,t={headers:{Authorization:r.a}},n={comment:this.replyComment};o.a.post(r.b+"/v1/problems/"+this.problem.id+"/responses",n,t).then(function(t){console.log(t),e.replyComment="",e.$message({message:"返答を送信しました．",type:"success"})}).catch(function(){e.$alert("送信できませんでした．ネットワークを確認してください．","ネットワークエラー",{confirmButtonText:"OK"})})}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(8),o=n.n(s),r=n(6);t.default={name:"response-list",data:function(){return{responses:""}},created:function(){this.getResponses()},methods:{getResponses:function(){var e=this,t={headers:{Authorization:r.a}},n=this.$route.params.id;o.a.get(r.b+"/v1/problems/"+n+"/responses",t).then(function(t){e.responses=t.data,console.log(t.data)}).catch(function(){e.$confirm("データの取得に失敗しました．再接続しますか？","ネットワークエラー",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(function(){e.getResponses()}).catch(function(){e.$message({type:"info",message:"Retrying canceled"})})})}}}},,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,n){function s(e){n(104)}var o=n(4)(n(79),n(121),s,"data-v-3d83ec26",null);e.exports=o.exports},function(e,t,n){function s(e){n(108)}var o=n(4)(n(80),n(125),s,"data-v-60ecd097",null);e.exports=o.exports},function(e,t,n){function s(e){n(111)}var o=n(4)(n(81),n(128),s,"data-v-a3d6ce72",null);e.exports=o.exports},function(e,t,n){function s(e){n(107)}var o=n(4)(n(82),n(124),s,"data-v-55bd61c8",null);e.exports=o.exports},function(e,t,n){function s(e){n(110)}var o=n(4)(n(83),n(127),s,"data-v-8ab1be10",null);e.exports=o.exports},function(e,t,n){function s(e){n(105)}var o=n(4)(n(84),n(122),s,"data-v-510f44fe",null);e.exports=o.exports},function(e,t,n){function s(e){n(106)}var o=n(4)(n(85),n(123),s,"data-v-53cf9c37",null);e.exports=o.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),n("ul",{staticClass:"card-list"},e._l(e.problems,function(t){return n("li",{on:{click:function(n){e.toProblemDetail(t)}}},[n("problem-card",{staticClass:"card",attrs:{problem:t}})],1)}))])},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("\n    困りごとの一覧ページ\n    "),n("small",[e._v("つくば市職員が閲覧するページ")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"input-area"},[n("el-input",{attrs:{type:"textarea",autosize:{minRows:3},placeholder:"Please input"},model:{value:e.replyComment,callback:function(t){e.replyComment=t},expression:"replyComment"}}),e._v(" "),n("el-button",{staticClass:"reply-button",attrs:{type:"primary"},on:{click:e.postResponse}},[e._v("Send Reply")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.responses.length>0?n("div",{staticClass:"box"},[n("small",[e._v("Responses list")]),e._v(" "),n("el-card",{staticClass:"box-card"},[n("ul",{staticClass:"card-list"},e._l(e.responses,function(t){return n("li",[n("p",[e._v(e._s(t.comment))])])}))])],1):n("div",{staticClass:"box"},[n("small",[e._v("no-responses")])])},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),n("problem-detail-card",{attrs:{problem:e.problem}}),e._v(" "),n("response-list"),e._v(" "),n("response-input",{attrs:{problem:e.problem}})],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",[e._v("\n    返答ページ\n    "),n("small",[e._v("（詳細ページ）")])])}]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("h2",[e._v(e._s(e.title))]),e._v(" "),n("router-link",{attrs:{to:"problems"}},[e._v(" >> to problems")])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"box"},[s("el-card",{staticClass:"box-card"},[s("el-row",[s("el-col",{attrs:{span:12,offset:6}},[s("div",{},[e.imageUrl?s("img",{attrs:{src:e.imageUrl}}):s("img",{attrs:{src:n(33)}})])])],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12,offset:6}},[e._v("\n        "+e._s(e.problem.comment)+"\n      ")])],1),e._v(" "),s("el-row",[s("el-col",{attrs:{span:12,offset:6}},[s("div",{staticClass:"date"},[e._v(e._s(e.problemDate))])])],1)],1)],1)},staticRenderFns:[]}},function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-card",{staticClass:"box-card"},[e.problem.responded?s("el-badge",{staticClass:"item",attrs:{hidden:""}}):s("el-badge",{staticClass:"item",attrs:{value:"返信してください！"}}),e._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"thumbnail"},[e.thumbnailUrl?s("img",{attrs:{src:e.thumbnailUrl}}):s("img",{attrs:{src:n(33)}})])]),e._v(" "),s("el-col",{attrs:{span:16}},[s("div",{staticClass:"content"},[s("div",{staticClass:"comment"},[s("p",[e._v(e._s(e.problemComment))])]),e._v(" "),s("div",{staticClass:"latlon"},[e._v(e._s(e.problemLatLon))]),e._v(" "),e.googleMapLink?s("div",{staticClass:"map"},[s("a",{attrs:{href:e.googleMapLink,target:"_blank"}},[e._v(" -> check map ")])]):e._e(),e._v(" "),s("div",{staticClass:"date"},[e._v(e._s(e.problemDate))])])])],1)],1)},staticRenderFns:[]}}],[77]);
//# sourceMappingURL=app.0178b8bbbc6328e11ce0.js.map